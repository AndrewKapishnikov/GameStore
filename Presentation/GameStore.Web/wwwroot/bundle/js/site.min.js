let loginButton=document.getElementById("loginSubmit"),orderUrl=document.getElementById("orderUrl");loginButton&&loginButton.addEventListener("click",e=>{e.preventDefault();let t=document.getElementById("errors");for(;t.firstChild;)t.removeChild(t.firstChild);let r,n;var o=document.getElementsByName("RememberMe");r=o[0].checked?"true":"false";var d=document.forms.loginForm,e=d.elements.returnUrl.value,o=d.elements.Email.value,d=d.elements.Password.value;orderUrl&&(n=orderUrl.value),SubmitLogin(o,d,r,e,n)});async function SubmitLogin(e,t,r,n,o){const d=await fetch("/account/login",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},body:`Email=${e}&Password=${t}&RememberMe=${r}&returnUrl=${n}&orderUrl=${o}`});if(!0===d.ok){var l=await d.json();if(!0===l.success)if(!0===l.makeOrder){let e=document.createElement("form");e.action="/order/makeorder",e.method="POST";const a=document.createElement("input");a.type="hidden",a.name="orderId",a.value=l.orderId,e.appendChild(a),document.body.append(e),e.submit()}else window.location.href=l.returnUrl;else{let e=document.createElement("form");e.action="/account/sendmessage",e.method="POST";const m=document.createElement("input");m.type="hidden",m.name="orderUrl",m.value=l.orderUrl,e.appendChild(m);const i=document.createElement("input");i.type="hidden",i.name="id",i.value=l.id,e.appendChild(i),document.body.append(e),e.submit()}}else{l=await d.json();console.log("errors",l),l&&(l.Email&&addError(l.Email),l.Password&&addError(l.Password),l.RegisterError&&addError(l.RegisterError))}}function addError(e){e.forEach(e=>{const t=document.createElement("p");t.append(e),document.getElementById("errors").append(t)})}let searchForm=document.getElementById("searchForm");searchForm&&searchForm.addEventListener("submit",e=>{let t=document.getElementById("searchinput");t.value.trim()||e.preventDefault()}),document.querySelectorAll(".changenumber__count").forEach(t=>{if(1==t.innerText){let e=t.previousElementSibling;e.querySelector(".changenumber__minus").addEventListener("click",e=>{e.preventDefault()})}if(9==t.innerText){let e=t.nextElementSibling;e.querySelector(".changenumber__plus").addEventListener("click",e=>{e.preventDefault()})}});